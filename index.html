<!doctype html>
<html>
	<head> </head>
	<body>
		<div id='_APP_'>
			<div> <b> WebSocket </b> </div>
			<div id='_ONLINE_'>
				<span>received data:&nbsp;</span>
				<div id='_RECEIVED_'></div>
			</div>
			<div id='_SEND_BOARD_'>
				<input type='text' id='_SEND_CONTENT_'>
				<input
					type='button'
					value='SEND'
					id='_SEND_CONFIRM_'
				>
			</div>
		</div>
		<script type='text/javascript'>




if (window.WebSocket != undefined) {
	//change the abs-url to document.host:
	var ws_conn = new WebSocket("ws://127.0.0.1:9999/ws");
	ws_conn.onopen = function () {
		ws_conn.send("_NEW_CLIENT_");
		_RECEIVED_.innerHTML += ("<p>Connection Opened.</p>");
	}
	ws_conn.onmessage = function(e) {
		_RECEIVED_.innerHTML += ("<p>" + e.data + "</p>");

	}
	ws_conn.onclose = function () {
		//ws_conn has been closed in this time.
		_RECEIVED_.innerHTML += ("<p>Connection Closed.</p>");
	}

	_SEND_CONFIRM_.onclick = function () {
		if (_SEND_CONTENT_.value != '') {
			ws_conn.send(_SEND_CONTENT_.value);
			_SEND_CONTENT_.value = ''
		}
	}
}




		</script>
	</body>
</html>
				

